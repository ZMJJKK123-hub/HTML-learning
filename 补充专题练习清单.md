# 补充专题练习清单

按补充专题 01-15 提供可操作的小任务，可基于 20_js_final_project.html 或自建示例完成。

## 01 网络与性能
- 为 CSS/字体添加 preload，为下一页脚本添加 prefetch。
- 手动给主 JS/CSS 加指纹文件名（重命名）并更新引用；配置 HTML no-cache、静态资源长缓存（写出示例头部）。
- 添加最小 Service Worker 缓存静态资源；断网访问验证离线可用。

## 02 安全基础
- 检查所有用户输入渲染点，改用 textContent/模板默认转义，移除 innerHTML 拼接。
- 为表单增加长度与邮箱格式校验，错误提示不暴露内部细节。
- 写一个 CSP 示例配置（禁止内联脚本，仅允许本站资源），作为说明注释。

## 03 可访问性与国际化
- 为 Tabs/按钮补充键盘左右/Enter 操作与 aria 属性；隐藏面板移除可聚焦性。
- 检查颜色对比达标（≥4.5:1），必要时调整变量。
- 添加语言切换下拉，使用 Intl 格式化日期/金额，切换 lang 与 dir（可模拟 RTL）。

## 04 工程化与测试
- 新建 package.json（pnpm/npm 均可），加脚本：dev/build/lint/format/test。
- 配置 ESLint+Prettier 基础规则，跑一次 lint。
- 为一个纯函数或工具写 1 个 Vitest/Jest 测试；为关键流程写 1 个 Playwright 端到端测试片段。

## 05 状态与架构
- 抽取一个简单 store 管理主题/任务列表，提供 getState/setState/subscribe。
- 将任务增删改走 store，视图订阅更新；新增乐观更新逻辑（先改 UI 后提交，失败回滚）。
- 若需要多视图，添加极简路由（hash 或 history）并为路由组件做懒加载。

## 06 部署与 PWA
- 产出打包版本（例如 Vite build），模拟部署到 dist。
- 添加 manifest.json 与图标，注册 Service Worker，提供“发现新版本，点击刷新”提示。
- 捕获 window.onerror/unhandledrejection，输出或上报错误占位；为接口失败加离线兜底提示与重试按钮。

## 07 前端框架与 SSR
- 用 Vite 创建 React 或 Vue 模板，完成：计数器、列表渲染、表单提交流程。
- 添加路由多页与懒加载；对比首屏包大小。
- 试 Next.js 或 Nuxt，写一个 SSR 页面（服务端取数据）与一个 SSG 页面（静态生成），对比首屏体验。

## 08 数据获取与状态库
- 在 React/Vue 项目中接入 TanStack Query 或 SWR，请求一个公开 API，展示加载/错误/重试。
- 实现一次乐观更新：添加/删除一条待办，失败时回滚并提示。
- 选择 Redux Toolkit（React）或 Pinia（Vue）管理主题或用户信息，与数据获取库并存。

## 09 后端基础（前端视角）
- 为现有接口定义错误码映射表，将后端 code 转成用户友好提示。
- 写一个 REST Mock（可用本地 mock 服务或 json-server），实现分页/过滤参数。
- 体验 GraphQL：用一个公共 GraphQL API（如 countries）做查询，理解按需字段。

## 10 测试深入
- 为一个组件编写 Testing Library 测试，覆盖交互与可见性断言。
- 使用 Playwright/Cypress 生成关键页面截图，建立回归基线。
- 跑一次 Lighthouse 或 Playwright Trace，记录 LCP/FID/CLS/TTFB 作为基准。

## 11 设计系统与组件库
- 抽取设计令牌文件（颜色/字号/间距/圆角/阴影/动效），支持亮暗主题切换。
- 将 Tabs/Toast 组件写成可复用 API（受控/非受控两种），并在 Storybook 或单页中展示变体。
- 为表单输入添加 aria-describedby 与错误态样式，对比度检查。

## 12 DevOps / CI-CD
- 添加 GitHub Actions CI：checkout → setup-node → install → lint → test → build。
- 配置预览部署（Vercel/Netlify 或 GitHub Pages），在 PR 上生成预览链接占位。
- 加入 Web Vitals 上报占位或 Sentry SDK 初始化（无密钥占位）。

## 13 数据可视化
- 动态 import ECharts 或 Chart.js，在进入视口时再初始化，展示一张折线图。
- 为图表添加文本摘要和可折叠数据表，保证无障碍；提供重置缩放/筛选按钮。
- 对大数据列表先做抽样或 Web Worker 预处理，再渲染图表。

## 14 安全进阶
- 为登录/授权流程梳理 OAuth2 授权码 + PKCE 时序，写出关键请求示例。
- 将 Token 存储方案调整为 HttpOnly Cookie（示意说明），并设置 SameSite=Lax。
- 为文件上传功能添加类型/大小白名单说明；在前端校验并给出错误提示。
- 在 CI 增加依赖安全扫描占位（npm audit/pnpm audit 或第三方服务）。

## 15 移动与跨端
- 为现有项目增加离线兜底页与更新提示，完善 PWA 清单。
- 针对移动端优化：图片懒加载、按钮触控区域≥44px、安全区适配（env 安全区变量）。
- 尝试用 Capacitor 将 Web 项目打包为移动 App（示意即可），验证基础权限（如相机访问占位）。
